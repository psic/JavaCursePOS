<!-- Ant build file generated by tIDE. To be used as template for automated build (continuous integration).
     Usage: Call "ant jar" to compile and create the jar.
     Note: this file is automatically generated DO NOT EDIT
         This file will be overridden at each project export
         if it contains the string "generated by tIDE". 
 -->


<project name="javaCursePOS" default="jar">


 <splash imageurl="build.png"/> 

<!-- ================ PATHS ================ -->

<property name="src" location="/home/psic/javaprojects/javaCursePOS/src"/>
<property name="lib" location="./lib"/>
<property name="classes" location="./classes"/>  
<property name="build" location="./pub"/>  
<property name="docs" location="./docs"/>  
<property name="test" location="./tests"/>  
<property name="jutest" location="./tests/junit"/>

<path id="project.class.path">
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/commons-lang.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/jdom-2.0.6-contrib.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/jdom-2.0.6-javadoc.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/jdom-2.0.6-junit.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/jdom-2.0.6-sources.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/jdom-2.0.6.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/charva/java/dist/lib/charva.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/lib/jaxen-1.1.6.LICENSE.txt"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/lib/jaxen-1.1.6.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/lib/xerces.2.11.LICENSE"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/lib/xerces.2.11.NOTICE"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/lib/xercesImpl.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/jdom-2.0.6/lib/xml-apis.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/charva/java/lib/commons-logging-api.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/charva/java/lib/commons-logging.jar"/>
   <pathelement location="/home/psic/javaprojects/javaCursePOS/lib/charva/java/lib/log4j-1.2.8.jar"/>
</path>

<!-- ================================ -->
<!-- =========== COMPILE ============ -->
<!-- ================================ -->
<target name="compile" description="compile project">
  <mkdir dir="${classes}"/>
  <javac srcdir="${src}"
      executable="/usr/lib/jvm/java-7-openjdk-amd64/bin/javac"
      failonerror="false"
      updatedProperty="compiled"
      fork="true"
      destdir="${classes}"
      debug="on"
      source="1.6">
    <classpath refid="project.class.path"/>
    <include name="**/*.java"/>
  </javac>
</target>

<!-- ============================ -->
<!-- =========== JAR ============ -->
<!-- ============================ -->
<target name="jar" description="create jarfile" depends="compile">
  <echo message="javaCursePOS.jar IS NOT SIGNED"/>
  <mkdir dir="${build}"/>
  <jar destfile="${build}/javaCursePOS.jar">
    <fileset dir="${classes}" excludes="**/Thumbs.db"/>
    <manifest>
      <attribute name="Main-Class" value="fr.web_en_royans.lebarajus.POS.Engine"/>
      <attribute name="Class-Path" value="commons-lang.jar  jdom-2.0.6-contrib.jar  jdom-2.0.6-javadoc.jar  jdom-2.0.6-junit.jar  jdom-2.0.6-sources.jar  jdom-2.0.6.jar  charva.jar  jaxen-1.1.6.LICENSE.txt  jaxen-1.1.6.jar  xerces.2.11.LICENSE  xerces.2.11.NOTICE  xercesImpl.jar  xml-apis.jar  commons-logging-api.jar  commons-logging.jar  log4j-1.2.8.jar"/>
    </manifest>
  </jar>
</target>

<!-- ======================================================================= -->
<!-- =========== Execute (good practice: call some apps tests ) ============ -->
<!-- ======================================================================= -->
<target name="execute" description="run the application with -build_test argument" depends="compile">
 <java classname="fr.web_en_royans.lebarajus.POS.Engine">
   <arg value="-build_test"/>
   <classpath refid="project.class.path"/>
   <classpath path="${classes}"/>
 </java>
</target>

<!-- ========================================================================================== -->
<!-- =========== JUnit checks WITHOUT COVERAGE (you must copy junit.jar to ant/lib ============ -->
<!-- ========================================================================================== -->
<target name="junit" description="run all junit checks on _Test and AllTest named classes" depends="compile">
 <echo message="JUnit tests for all _Test and AllTests classes"/>
 <mkdir dir="${jutest}"/>
 <mkdir dir="${test}"/>
 <junit printsummary="yes" haltonfailure="no" fork="true">
 <classpath>
  <pathelement location="${classes}"/>
  <pathelement path="${toString:project.class.path}"/>
 </classpath>
 <formatter type="xml"/>
 <batchtest fork="yes" todir="${jutest}">
  <fileset dir="${src}">
    <include name="**/*_Test*.java"/>
    <exclude name="**/AllTests.java"/>
  </fileset>
 </batchtest>
 </junit>
 <echo message="JUnit done. now performing junitreport"/>
 <junitreport todir="${jutest}">
  <fileset dir="${jutest}">
    <include name="*.xml"/>
  </fileset>
  <report format="frames" todir="${test}/junit/report/html"/>
 </junitreport>
</target>

</project>